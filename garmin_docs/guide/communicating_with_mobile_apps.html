<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Communicating with Mobile Apps - Garmin Connect IQ Documentation</title>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; margin: 0; padding: 20px; }
        h1 { color: #333; }
        pre { background-color: #f5f5f5; padding: 10px; border-radius: 4px; overflow: auto; }
        code { font-family: monospace; }
        table { border-collapse: collapse; width: 100%; }
        th, td { border: 1px solid #ddd; padding: 8px; }
        th { background-color: #f2f2f2; }
        img { max-width: 100%; }
    </style>
</head>
<body>
    <h1>Communicating with Mobile Apps</h1>
    <div class="c0123 c0126">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><meta charset="utf-8"/><meta content="(C) Copyright 2025" name="copyright"/><meta content="(C) Copyright 2025" name="DC.rights.owner"/><meta content="topic" name="DC.type"/><meta content="HTML5" name="DC.format"/><meta content="communicating-with-mobile-apps" name="DC.identifier"/><link href="../../commonltr.css" rel="stylesheet" type="text/css"/><title>Communicating with Mobile Apps</title><main role="main"><article aria-labelledby="ariaid-title1" role="article"><h1 class="title topictitle1" id="ariaid-title1">Communicating with Mobile Apps</h1><div class="body"><p class="p">There are a few complications with device-to-phone communication. For example, the watch app may be killed during the time communication happens, or a phone app may try to send information while the app is not active. In order to simplify these cases for the developer, Monkey C does not expose a low-level interface, but instead exposes a very high-level approach: the API exposes a mailbox metaphor instead of using a socket metaphor. Messages are constructed as a parcel of information and sent back and forth between devices. Each app will have a mailbox where messages are received, and an event that fires when new messages arrive.</p></div><article aria-labelledby="ariaid-title2" class="topic nested1" id="mobile-sdk-downloads"><h2 class="title topictitle2" id="ariaid-title2">Mobile SDK Downloads</h2><div class="body"><p class="p">The Connect IQ Mobile SDKs are released separately from the Connect IQ Developer SDK and is available for iOS and Android. There are several editions of the Mobile SDK available:</p><ul class="ul"><li class="li"><p class="p">Android BLE</p></li><li class="li"><p class="p">iOS BLE</p></li><li class="li"><p class="p">Android ADB</p></li></ul><p class="p">The <a class="xref" href="https://en.wikipedia.org/wiki/Bluetooth_low_energy" target="_blank">Bluetooth low energy</a> edition supports development of communication-enabled applications on an iOS or Android target device while the <a class="xref" href="http://developer.android.com/tools/help/adb.html" target="_blank">Android Debug Bridge</a> (ADB) edition is used for testing with the Connect IQ Simulator.</p><p class="p">More information on how to download the correct version for your mobile platform may be found on the <a class="xref" href="http://developer.garmin.com/connect-iq/developer-tools/communication" target="_blank">Garmin Developer site</a> and the <a class="xref" href="Mobile_SDK_for_Android.html#mobile-sdk-for-android">Mobile SDK for Android</a> and <a class="xref" href="Mobile_SDK_for_iOS.html#mobile-sdk-for-ios">Mobile SDK for iOS</a> sections.</p></div></article><article aria-labelledby="ariaid-title3" class="topic nested1" id="ble-simulation-over-android-debug-bridge"><h2 class="title topictitle2" id="ariaid-title3">BLE Simulation Over Android Debug Bridge</h2><div class="body"><p class="p">When using the Connect IQ Simulator, it is possible to communicate with a companion app running on an Android device using <a class="xref" href="http://developer.android.com/tools/help/adb.html" target="_blank">Android Debug Bridge</a>. This will simulate actual <a class="xref" href="https://en.wikipedia.org/wiki/Bluetooth_low_energy" target="_blank">Bluetooth low energy</a> speeds to better approximate performance of your application.</p><p class="p">The <a class="xref" href="http://developer.android.com/tools/help/adb.html" target="_blank">Android Debug Bridge</a> edition of the Android Mobile SDK and companion app is required to use <a class="xref" href="http://developer.android.com/tools/help/adb.html" target="_blank">Android Debug Bridge</a> for testing. Here's how to enable the companion to communicate over <a class="xref" href="http://developer.android.com/tools/help/adb.html" target="_blank">Android Debug Bridge</a>:</p><ol class="ol"><li class="li"><p class="p">Connect the phone to the PC running the simulator via USB</p></li><li class="li"><p class="p">Have USB debugging enabled on the Android handset</p></li><li class="li"><p class="p">Obtain an instance of ConnectIQ using <code class="ph codeph">getInstance( IQCommProtocol.ADB_SIMULATOR )</code></p></li><li class="li"><p class="p">Optionally call <code class="ph codeph">setAdbPort( int port )</code> to set a specific port to use for communication (the default port is 7381)</p></li><li class="li"><p class="p">Call <code class="ph codeph">initialize()</code></p></li></ol><p class="p">To allow the simulator to communicate over <a class="xref" href="http://developer.android.com/tools/help/adb.html" target="_blank">Android Debug Bridge</a>, forward the TCP port to the Android device in a terminal or console:</p><pre class="pre codeblock bash"><code>adb forward tcp:7381 tcp:7381</code></pre><p class="p">Note that this command will need to be reissued for each connected Android device, or if a device is disconnected and re-connected.</p><p class="p">Once your app is started on the phone, connect it to the simulator by clicking the <em class="ph i">Connection</em> menu and selecting <em class="ph i">Start</em> (CTRL-F1). The Connect IQ apps in the simulator will now be able to communicate with your device via the Communications APIs over <a class="xref" href="http://developer.android.com/tools/help/adb.html" target="_blank">Android Debug Bridge</a>.</p></div></article></article></main></div>
</body>
</html>