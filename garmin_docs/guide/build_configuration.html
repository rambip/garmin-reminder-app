<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Build Configuration - Garmin Connect IQ Documentation</title>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; margin: 0; padding: 20px; }
        h1 { color: #333; }
        pre { background-color: #f5f5f5; padding: 10px; border-radius: 4px; overflow: auto; }
        code { font-family: monospace; }
        table { border-collapse: collapse; width: 100%; }
        th, td { border: 1px solid #ddd; padding: 8px; }
        th { background-color: #f2f2f2; }
        img { max-width: 100%; }
    </style>
</head>
<body>
    <h1>Build Configuration</h1>
    <div class="c0123 c0126">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><meta charset="utf-8"/><meta content="(C) Copyright 2025" name="copyright"/><meta content="(C) Copyright 2025" name="DC.rights.owner"/><meta content="topic" name="DC.type"/><meta content="HTML5" name="DC.format"/><meta content="build-configuration" name="DC.identifier"/><link href="../../commonltr.css" rel="stylesheet" type="text/css"/><title>Build Configuration</title><main role="main"><article aria-labelledby="ariaid-title1" role="article"><h1 class="title topictitle1" id="ariaid-title1">Build Configuration</h1><div class="body"><p class="p">Connect IQ supports a wide variety of Garmin devices, like watches, bike computers and handhelds. Even within these broader categories, devices can have different screen sizes, shapes and resolutions. Application developers may wish to define specific resources, like fonts and bitmap graphics, for certain devices or device families for a better user experience. For example, an app may need to use a round background image for round devices and a square background image for square devices.</p><p class="p">Connect IQ offers a few ways to manage app resources: <span class="xref">device and family qualifiers</span>, <span class="xref">Jungles</span> and <span class="xref">build exclusions</span>.</p></div><article aria-labelledby="ariaid-title2" class="topic nested1" id="device-family-and-localization-qualifiers"><h2 class="title topictitle2" id="ariaid-title2">Device, Family, and Localization Qualifiers</h2><div class="body"><p class="p">The simplest way to override resources is with device, family, and localization qualifiers, which are added to a resources folder by adding a hyphen (<code class="ph codeph">-</code>) followed by a valid qualifier value. Let's take a look at an example:</p><figure class="fig fignone"><figcaption><span class="fig--title-label">Figure 1. </span>Figure 1: A project that uses a fēnix 5 device resource qualifier</figcaption>
<img class="image" src="/connect-iq/resources/programmers-guide/qualifier-project.png"/><br/>
</figure><p class="p">In Figure 1, the <code class="ph codeph">resources-fenix5</code> directory uses a <code class="ph codeph">-fenix5</code> qualifier to segregate resources specifically intended for the fēnix 5. When this project is built for fēnix 5, the layout and drawable in the <code class="ph codeph">resources-fenix5</code> directory will be used to display a different background image than the one in the more generic <code class="ph codeph">resources</code> directory. All other supported products will compile with the default resources.</p><p class="p"><strong class="ph b">Note:</strong> Multiple qualifiers separated by hyphens may be used on a single folder, but device qualifiers are not allowed to co-exist with family qualifiers in the same folder name (e.g. <code class="ph codeph">resources-round-fenix3</code>) and will be skipped by the resource compiler if encountered.</p></div><article aria-labelledby="ariaid-title3" class="topic nested2" id="device-qualifiers"><h3 class="title topictitle3" id="ariaid-title3">Device Qualifiers</h3><div class="body"><p class="p">The device qualifier format allows for resources to target specific devices (as demonstrated in Figure 1). Resources included in a folder with a device qualifier will override the resources with the same ID that are defined in the base resource folder when building for the associated device. Device qualifiers also take precedence over less specific qualifiers, such as family qualifiers.</p></div></article><article aria-labelledby="ariaid-title4" class="topic nested2" id="family-qualifiers"><h3 class="title topictitle3" id="ariaid-title4">Family Qualifiers</h3><div class="body"><p class="p">The family qualifier format allows for resources to target specific device families, which is a group of devices differentiated by shared screen characteristics. There are two family qualifiers:</p><ul class="ul"><li class="li"><p class="p"><strong class="ph b">Screen shape:</strong> The shape of the screen (e.g. <code class="ph codeph">round</code>, <code class="ph codeph">rectangle</code>, etc.)</p></li><li class="li"><p class="p"><strong class="ph b">Screen size:</strong> The physical size of the screen in pixels ( e.g. <code class="ph codeph">218x218</code>, <code class="ph codeph">148x205</code>, etc.)</p></li></ul><p class="p">The screen shape must always be specified when using a family qualifier, and the screen size may be added to further refine the target family. Here are some examples of valid and invalid family qualifier examples:</p><ul class="ul"><li class="li"><p class="p"><code class="ph codeph">resources-round</code>: <em class="ph i">Valid</em>—targets round screen devices, like the fēnix 3 series and fēnix 5 series</p></li><li class="li"><p class="p"><code class="ph codeph">resources-round-218x218</code>: <em class="ph i">Valid</em>—targets 218px x 218px, round screen screen devices, like the fēnix 3 and fēnix 5S (but not the 5 or 5X since they have 240px x 240px screens)</p></li><li class="li"><p class="p"><code class="ph codeph">resources-218x218</code>: <em class="ph i">Invalid</em>—this will be ignored by the resource compiler because no screen shape has been specified</p></li><li class="li"><p class="p"><code class="ph codeph">resources-218x218-round</code>: <em class="ph i">Invalid</em>—the screen shape was not specified first</p></li></ul><p class="p">Resources with more specific qualifiers will always take precedence over less specific ones, so on a round, 218px x 218px device, any resources contained in the <code class="ph codeph">resources-round-218x218</code> resources folder will be used in place of those in <code class="ph codeph">resources-round</code> if they share an ID. In addition any resource folder that carries a family qualifier will always defer to resource folders named with device qualifiers.</p></div></article><article aria-labelledby="ariaid-title5" class="topic nested2" id="localization-qualifiers"><h3 class="title topictitle3" id="ariaid-title5">Localization Qualifiers</h3><div class="body"><p class="p">Localization qualifiers are a way to specify language-specific string resources, and are specified as an <a class="xref" href="https://www.loc.gov/standards/iso639-2/php/code_list.php" target="_blank">ISO 639–2 language code</a>. These qualifiers may be combined with either device or family qualifiers, and are always specified last in the qualifier naming scheme. For example:</p><ul class="ul"><li class="li"><p class="p"><code class="ph codeph">resources-fre</code>: Provides French language-specific string resources for all devices</p></li><li class="li"><p class="p"><code class="ph codeph">resources-round-fre</code>: Provides French language-specific string resources for round devices only</p></li><li class="li"><p class="p"><code class="ph codeph">resources-fenix5s-fre</code>: Provides French language-specific string resources for fēnix 5 devices only</p></li></ul></div></article></article><article aria-labelledby="ariaid-title6" class="topic nested1" id="build-configuration-via-jungles"><h2 class="title topictitle2" id="ariaid-title6">Build Configuration via Jungles</h2><div class="body"><p class="p">Connect IQ runs on a diverse set of purpose built devices. Because of the variety of inputs, screen shapes and resources, it often is necessary to include code and resources tailored to specific conditions. For example, on a square device a progress bar may be rectangular, but on a round device it might look better as an arc that orbits the screen.</p><p class="p">Jungles allow developers to write custom build configurations for Monkey C projects. With Jungles, developers may:</p><ul class="ul"><li class="li"><p class="p">Define per-device or per-device family paths to source and resource directories</p></li><li class="li"><p class="p">Exclude portions of source code with annotations</p></li><li class="li"><p class="p">Specify <a class="xref" href="Shareable_Libraries.html#shareable-libraries">Monkey Barrels</a> that should be included when a project is built.</p></li></ul></div><article aria-labelledby="ariaid-title7" class="topic nested2" id="per-device-configuration"><h3 class="title topictitle3" id="ariaid-title7">Per Device Configuration</h3><div class="body"><p class="p">Jungles allow for the source path, resource path and exclusions to be set for all products, by screen shape, or for particular products. The following prefixes are allowed:</p><table class="table"><caption></caption><colgroup><col/><col/></colgroup><thead class="thead"><tr class="row"><th class="entry" id="per-device-configuration__entry__1">Name</th><th class="entry" id="per-device-configuration__entry__2">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry" headers="per-device-configuration__entry__1"><code class="ph codeph">base</code></td><td class="entry" headers="per-device-configuration__entry__2">Configuration applies to all products</td></tr><tr class="row"><td class="entry" headers="per-device-configuration__entry__1"><code class="ph codeph">round</code></td><td class="entry" headers="per-device-configuration__entry__2">Configuration applies to products with round screens</td></tr><tr class="row"><td class="entry" headers="per-device-configuration__entry__1"><code class="ph codeph">semiround</code></td><td class="entry" headers="per-device-configuration__entry__2">Configuration applies to products with semi-round screens</td></tr><tr class="row"><td class="entry" headers="per-device-configuration__entry__1"><code class="ph codeph">rectangle</code></td><td class="entry" headers="per-device-configuration__entry__2">Configuration applies to products with rectangle or square screens</td></tr><tr class="row"><td class="entry" headers="per-device-configuration__entry__1"><code class="ph codeph">semioctagon</code></td><td class="entry" headers="per-device-configuration__entry__2">Configuration applies to products with octagon screens with sub-window</td></tr><tr class="row"><td class="entry" headers="per-device-configuration__entry__1"><code class="ph codeph">&lt;product id&gt;</code></td><td class="entry" headers="per-device-configuration__entry__2">Configuration applies to a specific product. <code class="ph codeph">&lt;product id&gt;</code> is the same as what is used in the manifest file</td></tr></tbody></table><p class="p">For <code class="ph codeph">round</code>, <code class="ph codeph">semiround</code>, <code class="ph codeph">semi-octagon</code>, and <code class="ph codeph">rectangle</code> identifiers, an optional <code class="ph codeph">-&lt;width&gt;x&lt;height&gt;</code> suffix can be added for narrow the scope.</p><p class="p">Let's say you are writing a wearable app that has different resources for round, semi-round and rectangle layouts. The Venu has a AMOLED specific implementation as well. Jungles make it easy to manage project build configurations in one place:</p><pre class="pre codeblock"><code>base.sourcePath = source

# Configure paths based on screen shape
round.resourcePath = $(base.resourcePath);resource-round
semiround.resourcePath = $(base.resourcePath);resource-semiround
rectangle.resourcePath = $(base.resourcePath);resource-rectangle

# Set the venu source and resource paths
venu.sourcePath = $(base.sourcePath);source-venu
venu.resourcePath = $(base.resourcePath);resource-venu</code></pre><p class="p">These instructions set the source path for all devices to <code class="ph codeph">source</code>. It tells the build system to use the <code class="ph codeph">resource-round</code>,  <code class="ph codeph">resource-semiround</code> and <code class="ph codeph">resource-rectangle</code> paths for the round, semi-round and rectangle the devices respectively. Finally, the Venu has an additional source and resource folders added.</p></div></article><article aria-labelledby="ariaid-title8" class="topic nested2" id="feeling-excluded"><h3 class="title topictitle3" id="ariaid-title8">Feeling Excluded</h3><div class="body"><p class="p">Now, let's say that we have some code in our application that should only be run on round products, and all the non-round products should use the "regular" version:</p><pre class="pre codeblock typescript"><code>(:roundVersion)
function drawThis(dc) {
    // Implementation
}

(:regularVersion)
function drawThis(dc) {

}</code></pre><p class="p">We don't want to include both versions in any executable because one version would just be dead code. Jungles allow us to specify this using exclusions.</p><pre class="pre codeblock bash"><code># Say that all products exclude declarations
# with the annotation :roundVersion
base.excludeAnnotations = roundVersion
# Now say that the round products exclude
# the regular version
round.excludeAnnotations = regularVersion</code></pre><p class="p">When building the app for a product, round products will exclude the version of <code class="ph codeph">drawThis</code> with the <code class="ph codeph">:regularVersion</code> annotation, and the rest of the products will exclude the version of <code class="ph codeph">drawThis</code> with the <code class="ph codeph">:roundVersion</code> annotation.</p><p class="p">For more information on how to use Jungles see the <a class="xref" href="../Reference_Guides/Jungle_Reference.html#jungle-reference-guide">Jungle Reference Guide</a>.</p></div></article></article></article></main></div>
</body>
</html>