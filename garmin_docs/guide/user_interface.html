<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>User Interface - Garmin Connect IQ Documentation</title>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; margin: 0; padding: 20px; }
        h1 { color: #333; }
        pre { background-color: #f5f5f5; padding: 10px; border-radius: 4px; overflow: auto; }
        code { font-family: monospace; }
        table { border-collapse: collapse; width: 100%; }
        th, td { border: 1px solid #ddd; padding: 8px; }
        th { background-color: #f2f2f2; }
        img { max-width: 100%; }
    </style>
</head>
<body>
    <h1>User Interface</h1>
    <div class="c0123 c0126">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><meta charset="utf-8"/><meta content="(C) Copyright 2025" name="copyright"/><meta content="(C) Copyright 2025" name="DC.rights.owner"/><meta content="topic" name="DC.type"/><meta content="HTML5" name="DC.format"/><meta content="views-drawables-and-layers" name="DC.identifier"/><link href="../../commonltr.css" rel="stylesheet" type="text/css"/><title>Views, Drawables and Layers</title><main role="main"><article aria-labelledby="ariaid-title1" role="article"><h1 class="title topictitle1" id="ariaid-title1">Views, Drawables and Layers</h1><div class="body"><figure class="fig fignone">
<img class="image" src="/connect-iq/resources/programmers-guide/artsy-monkey.png"/><br/>
</figure></div><article aria-labelledby="ariaid-title2" class="topic nested1" id="views"><h2 class="title topictitle2" id="ariaid-title2">Views</h2><div class="body"><p class="p">Watch faces and apps have a page stack. A <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/WatchUi/View.html" target="_blank">WatchUi.View</a> is an object that represents a page. Views can be pushed onto and popped off of the page stack, or a view can replace another view on the page stack with a transition.</p><p class="p">A subclass of <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/WatchUi/View.html" target="_blank">WatchUi.View</a>  usually implements the following functions:</p><ul class="ul"><li class="li"><p class="p"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/WatchUi/View.html#onShow-instance_function" target="_blank">View.onShow()</a>: Called when your <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/WatchUi/View.html" target="_blank">WatchUi.View</a> is first made visible. A good time to do on demand initialization of resources and timers.</p></li><li class="li"><p class="p"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/WatchUi/View.html#onLayout-instance_function" target="_blank">View.onLayout()</a>: In this function you can load a layout defined in the <a class="xref" href="/connect-iq/core-topics/layouts/">Layouts</a> section.</p></li><li class="li"><p class="p"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/WatchUi/View.html#onUpdate-instance_function" target="_blank">View.onUpdate()</a>: Called when your view needs to update the display. The default version of this function will draw the layout elements, but you call <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/WatchUi/View.html#onUpdate-instance_function" target="_blank">View.onUpdate()</a> to have the system draw the layout and then run your own custom drawing.</p></li><li class="li"><p class="p"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/WatchUi/View.html#onHide-instance_function" target="_blank">View.onHide()</a>: Called when your View is being removed from the view stack.</p></li></ul></div><article aria-labelledby="ariaid-title3" class="topic nested2" id="enhanced-readability-mode"><h3 class="title topictitle3" id="ariaid-title3">Enhanced Readability Mode</h3><div class="body"><p class="p"><em class="ph i">Since API level 4.2.0</em></p><p class="p">Some devices have a new setting that enlarges the sizes of fonts in menus, glances and application pages to enhance readability. To add support for enhanced readability mode, check <span class="xref"></span> at runtime to see if you should be using larger fonts.</p><p class="p">Some devices only have a single larger font size, but some also allow the user to scale the font. If <span class="xref"></span> is <code class="ph codeph">true</code>, check to see if the <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/System/DeviceSettings.html" target="_blank">System.DeviceSettings</a> has <code class="ph codeph">:fontScale</code>. You can use <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Graphics.html#getVectorFont-instance_function" target="_blank">Graphics.getVectorFont()</a> to get a scaled version of a system font using the <code class="ph codeph">:font</code> and <code class="ph codeph">:scale</code> options.</p><p class="p">Implementing <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Application/AppBase.html#onEnhancedReadabilityModeChanged-instance_function" target="_blank">AppBase.onEnhancedReadabilityModeChanged()</a> or <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Application/AppBase.html#onDeviceSettingChanged-instance_function" target="_blank">AppBase.onDeviceSettingChanged()</a> will let you know if the setting changed while the app was running.</p></div></article></article><article aria-labelledby="ariaid-title4" class="topic nested1" id="drawables"><h2 class="title topictitle2" id="ariaid-title4">Drawables</h2><div class="body"><p class="p">Each <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/WatchUi/View.html" target="_blank">WatchUi.View</a>  contains a layout. A layout is an array of <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/WatchUi/Drawable.html" target="_blank">WatchUi.Drawable</a> objects. A <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/WatchUi/Drawable.html" target="_blank">WatchUi.Drawable</a>  can draw itself to a device context through the <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/WatchUi/Drawable.html#draw-instance_function" target="_blank">Drawable.draw()</a> method.</p><div class="div center">
<figure class="fig fignone"><figcaption><span class="fig--title-label">Figure 1. </span>An illustration of Layouts, Views, and Drawables</figcaption>
<img alt="An illustration of Layouts, Views, and Drawables" class="image" src="/connect-iq/resources/programmers-guide/layout.png"/><br/>
</figure>
</div><p class="p">Any object that extends <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/WatchUi/Drawable.html" target="_blank">WatchUi.Drawable</a> is a drawable object, expose their properties publicly. (This will become useful when we discuss the animation system.) Monkey C provides the basic drawables <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/WatchUi/Text.html" target="_blank">WatchUi.Text</a> and <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/WatchUi/Bitmap.html" target="_blank">WatchUi.Bitmap</a>, allowing text and bitmap resources to be included in layouts.</p></div></article><article aria-labelledby="ariaid-title5" class="topic nested1" id="layers"><h2 class="title topictitle2" id="ariaid-title5">Layers</h2><div class="body"><p class="p"><em class="ph i">Since API level 3.1.0</em></p><p class="p">Layers are used to fuse multiple levels of drawable content belong to the same view.  Once added to a view, layers are rendered on the screen automatically in the order they  are added. Layers are conceptually closer to the <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Graphics/BufferedBitmap.html" target="_blank">Graphics.BufferedBitmap</a> than a <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/WatchUi/Drawable.html" target="_blank">WatchUi.Drawable</a>, and come with a similar runtime memory cost.</p><p class="p">The following is a code snippet about how to use the <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/WatchUi/Layer.html" target="_blank">WatchUi.Layer</a> system</p><pre class="pre codeblock typescript"><code>class MyLayerView extends WatchUi.View {

    function initialize() {
        // create a 240x240 layer, at [0,0] offset from the top-left corner of the screen
        var backgroundLayer = new WatchUi.Layer({:x=&gt;0, :y=&gt;0, :width=&gt;240, :height=&gt;240});

        // draw something on the layer
        backgroundLayer.getDc().drawBitmap( ... );
        backgroundLayer.getDc().drawPolyline( ... );

        // add layer to View as background
        addLayer(backgroundLayer);

        // create another 20x20 layer and add it to the view as foreground layer
        var foregroundLayer = new WatchUi.Layer({:x=&gt;10, :y=&gt;10, :width=&gt;20, :height=&gt;20});
        addLayer(foregroundLayer);

        // draw something on the foreground layer
        foregroundLayer.getDc().drawText( ... );
    }
}</code></pre></div><article aria-labelledby="ariaid-title6" class="topic nested2" id="animationlayer"><h3 class="title topictitle3" id="ariaid-title6">AnimationLayer</h3><div class="body"><p class="p">Layers are useful for fusing animations with your <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/WatchUi/View.html" target="_blank">WatchUi.View</a> content. The <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/WatchUi/AnimationLayer.html" target="_blank">WatchUi.AnimationLayer</a> is a special layer that allows integration of  <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/WatchUi/AnimationResource.html" target="_blank">WatchUi.AnimationResource</a> and your <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/WatchUi/View.html" target="_blank">WatchUi.View</a>. Using layers, you can overlay animations over your <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/WatchUi/View.html" target="_blank">WatchUi.View</a>, or overlay static content over playing animations.</p><div class="div center">
<figure class="fig fignone"><figcaption><span class="fig--title-label">Figure 2. </span>Animation WatchFace With 3 Layers</figcaption>
<img alt="glance page" class="image" src="/connect-iq/resources/programmers-guide/layers.png"/><br/>
</figure>
</div><p class="p">The above screenshot illustrates a 3-layer watch face from the <code class="ph codeph">samples/AnimationWatchFace</code> sample app. See the <a class="xref" href="/connect-iq/core-topics/resources/">Resources</a> section to learn how to embed resources into your app. See the <code class="ph codeph">samples/AnimationWatchFace</code> sample to learn more.</p></div></article></article></article></main></div>
</body>
</html>