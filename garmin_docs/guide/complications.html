<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Complications - Garmin Connect IQ Documentation</title>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; margin: 0; padding: 20px; }
        h1 { color: #333; }
        pre { background-color: #f5f5f5; padding: 10px; border-radius: 4px; overflow: auto; }
        code { font-family: monospace; }
        table { border-collapse: collapse; width: 100%; }
        th, td { border: 1px solid #ddd; padding: 8px; }
        th { background-color: #f2f2f2; }
        img { max-width: 100%; }
    </style>
</head>
<body>
    <h1>Complications</h1>
    <div class="c0123 c0126">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><meta charset="utf-8"/><meta content="(C) Copyright 2025" name="copyright"/><meta content="(C) Copyright 2025" name="DC.rights.owner"/><meta content="topic" name="DC.type"/><meta content="HTML5" name="DC.format"/><meta content="complications" name="DC.identifier"/><link href="../../commonltr.css" rel="stylesheet" type="text/css"/><title>Complications</title><main role="main"><article aria-labelledby="ariaid-title1" role="article"><h1 class="title topictitle1" id="ariaid-title1">Complications</h1><div class="body"><p class="p">Garmin devices collect numerous data points as users wear them. Many of these data points can be summarized and displayed on the watch face as a <a class="xref" href="https://en.wikipedia.org/wiki/Complication_(horology)" target="_blank">complication</a>. The Connect IQ SDK offers multiple APIs to access user metrics, and has expanded the offerings with every release.</p><p class="p">The <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Complications.html" target="_blank">Toybox.Complications</a> module consolidates the specific metrics typically displayed by Garmin devices into a unified interface. This unified interface gives the developer access to the information typically shown on the watch face for the developer. The complications are exposed using a publish/subscribe model.</p><p class="p">In addition, device app and audio content provider developers can now publish up to four complications using this new framework. Complications have public, protected, and private visibility levels with the system.</p><p class="p">Finally, Face It will also be a consumer of Connect IQ complications. This allows developers to create information that can be published on Face It watch faces.</p></div><article aria-labelledby="ariaid-title2" class="topic nested1" id="publishers-and-subscribers"><h2 class="title topictitle2" id="ariaid-title2">Publishers and Subscribers</h2><div class="body"><br/><img class="image" src="/connect-iq/resources/programmers-guide/complication_publishers_and_subscribers.png"/><br/><p class="p">At the heart of the complications system is a publisher/subscriber system. The system publishes complication data for subscribers to consume. Connect IQ device apps and audio content providers can publish complication data, but only watch faces can subscribe to complication information.</p></div><article aria-labelledby="ariaid-title3" class="topic nested2" id="complication-objects"><h3 class="title topictitle3" id="ariaid-title3">Complication Objects</h3><div class="body"><p class="p">Data is published as a <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Complications/Complication.html" target="_blank">Complications.Complication</a> object. The complication object exposes the following information:</p><table class="table"><caption></caption><colgroup><col/><col/><col/></colgroup><thead class="thead"><tr class="row"><th class="entry" id="complication-objects__entry__1">Identifier</th><th class="entry" id="complication-objects__entry__2">Description</th><th class="entry" id="complication-objects__entry__3">API Level</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry" headers="complication-objects__entry__1"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Complications/Complication.html#complicationId-var" target="_blank">Complication.complicationId</a></td><td class="entry" headers="complication-objects__entry__2">A unique identifier for the type of data being published of type <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Complications/Id.html" target="_blank">Complications.Id</a></td><td class="entry" headers="complication-objects__entry__3">4.2.0</td></tr><tr class="row"><td class="entry" headers="complication-objects__entry__1"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Complications/Complication.html#longLabel-var" target="_blank">Complication.longLabel</a></td><td class="entry" headers="complication-objects__entry__2">A textual name for the complication. The long label is intended for display in a configuration menu.</td><td class="entry" headers="complication-objects__entry__3">4.2.0</td></tr><tr class="row"><td class="entry" headers="complication-objects__entry__1"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Complications/Complication.html#ranges-var" target="_blank">Complication.ranges</a></td><td class="entry" headers="complication-objects__entry__2">An optional array of numeric values. Ranges allow breakdowns of sets of values that can be integrated into the display.</td><td class="entry" headers="complication-objects__entry__3">4.2.0</td></tr><tr class="row"><td class="entry" headers="complication-objects__entry__1"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Complications/Complication.html#shortLabel-var" target="_blank">Complication.shortLabel</a></td><td class="entry" headers="complication-objects__entry__2">A five-character string intended to summarize your complication as a radial complication.</td><td class="entry" headers="complication-objects__entry__3">4.2.0</td></tr><tr class="row"><td class="entry" headers="complication-objects__entry__1"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Complications/Complication.html#unit-var" target="_blank">Complication.unit</a></td><td class="entry" headers="complication-objects__entry__2">The units to use with the value. If this is <code class="ph codeph">null</code> then the unit shouldn't be displayed. If this is a <code class="ph codeph">UNIT</code> identifier, the <code class="ph codeph">value</code> is expected to be in a specific unit for conversion. If the <code class="ph codeph">unit</code> is a string, the <code class="ph codeph">value</code> should be interpreted without conversion.</td><td class="entry" headers="complication-objects__entry__3"><code class="ph codeph">4.2.0</code></td></tr><tr class="row"><td class="entry" headers="complication-objects__entry__1"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Complications/Complication.html#value-var" target="_blank">Complication.value</a></td><td class="entry" headers="complication-objects__entry__2">A string or numeric value describing the value to be displayed to the user</td><td class="entry" headers="complication-objects__entry__3"><code class="ph codeph">4.2.0</code></td></tr></tbody></table><p class="p">You can query additional information with these accessors:</p><table class="table"><caption></caption><colgroup><col/><col/><col/></colgroup><thead class="thead"><tr class="row"><th class="entry" id="complication-objects__entry__22">Method</th><th class="entry" id="complication-objects__entry__23">Description</th><th class="entry" id="complication-objects__entry__24">API Level</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry" headers="complication-objects__entry__22"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Complications/Complication.html#getIcon-instance_function" target="_blank">Complication.getIcon()</a></td><td class="entry" headers="complication-objects__entry__23">For Connect IQ complications, query the icon provided by the app</td><td class="entry" headers="complication-objects__entry__24">4.2.0</td></tr><tr class="row"><td class="entry" headers="complication-objects__entry__22"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Complications/Complication.html#getType-instance_function" target="_blank">Complication.getType()</a></td><td class="entry" headers="complication-objects__entry__23">For native complications, returns the <code class="ph codeph">COMPLICATION_TYPE</code>. Will return <code class="ph codeph">COMPLICATION_TYPE_INVALID</code> for Connect IQ complications.</td><td class="entry" headers="complication-objects__entry__24">4.2.0</td></tr></tbody></table></div></article><article aria-labelledby="ariaid-title4" class="topic nested2" id="units"><h3 class="title topictitle3" id="ariaid-title4">Units</h3><div class="body"><p class="p">Complications are allowed to publish information in units that are configurable by the user in their system settings. When receiving complication values, it is the subscriber's role to convert the value to the metric specified in system settings.</p><p class="p">Units should be expected to be published as the following:</p><table class="table"><caption></caption><colgroup><col/><col/></colgroup><thead class="thead"><tr class="row"><th class="entry" id="units__entry__1">Unit</th><th class="entry" id="units__entry__2">Expected Value</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry" headers="units__entry__1"><code class="ph codeph">Complications.UNIT_DISTANCE</code></td><td class="entry" headers="units__entry__2">Meters</td></tr><tr class="row"><td class="entry" headers="units__entry__1"><code class="ph codeph">Complications.UNIT_ELEVATION</code></td><td class="entry" headers="units__entry__2">Meters</td></tr><tr class="row"><td class="entry" headers="units__entry__1"><code class="ph codeph">Complications.UNIT_HEIGHT</code></td><td class="entry" headers="units__entry__2">Meters</td></tr><tr class="row"><td class="entry" headers="units__entry__1"><code class="ph codeph">Complications.UNIT_SPEED</code></td><td class="entry" headers="units__entry__2">Meters per second</td></tr><tr class="row"><td class="entry" headers="units__entry__1"><code class="ph codeph">Complications.UNIT_TEMPERATURE</code></td><td class="entry" headers="units__entry__2">Degrees Celsius</td></tr><tr class="row"><td class="entry" headers="units__entry__1"><code class="ph codeph">Complications.UNIT_WEIGHT</code></td><td class="entry" headers="units__entry__2">Grams</td></tr></tbody></table></div></article></article><article aria-labelledby="ariaid-title5" class="topic nested1" id="subscribing-to-complications"><h2 class="title topictitle2" id="ariaid-title5">Subscribing to Complications</h2><div class="body"><p class="p">To subscribe to a complication you need to add the <code class="ph codeph">ComplicationSubscriber</code> permission to your manifest file. Subscribing to Complications requires the <span class="xref"></span>. You can use <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Complications.html#getComplications-instance_function" target="_blank">Complications.getComplications()</a> to query the all complications supported by the system. You can also query a native complication directly by constructing a <span class="xref"></span> explicitly:</p><pre class="pre codeblock typescript"><code>var complication = Complications.getComplication(
    new Id(Complications.COMPLICATION_TYPE_CALORIES)
);</code></pre><p class="p">This only works for native complications. Once you have the complication id, you can persist the id in storage for later use.</p><p class="p">You can use <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Complications.html#registerComplicationChangeCallback-instance_function" target="_blank">Complications.registerComplicationChangeCallback()</a> to subscribe to multiple complication values. All subscriptions are terminated when your app shuts down and must be re-done when your app is launched. When you subscribe, you register a callback to be called when the value updates:</p><pre class="pre codeblock typescript"><code>function onStart(params as Dictionary) as Void {
    // Retrieve persisted Complication ID
    mComplicationId = Storage.getValue(COMPLICATION_ID_KEY);

    // Register a callback for receiving
    // updates on complication information
    Complications.registerComplicationChangeCallback(
        self.method(:onComplicationChanged));

    // Liking and subscribing
    Complications.subscribeToUpdates(mComplicationId);
}</code></pre><p class="p">In your callback, you can then query the updated information and process it:</p><pre class="pre codeblock typescript"><code>function onComplicationChanged(
    complicationId as Complication.Id) as Void {
    // Identify the complication being updated
    if (complicationId == mComplicationId) {
        // Get the complication information
        try {
            var data = Complications.getComplication(
                complicationId);
            // Handle the application processing
            updateData(complicationId, data);
        } catch (e instanceof ComplicationNotFoundException) {
            handleComplicationRemoval(complicationId);
        }
    }
}</code></pre><p class="p">If the complication is no longer available, for example the user has uninstalled the publishing app, the system will throw a <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Complications/ComplicationNotFoundException.html" target="_blank">Complications.ComplicationNotFoundException</a>. You should trap this exception and handle it within your app. If a publishing app is uninstalled, the system will send an event to your <code class="ph codeph">ComplicationChangeCallback</code> and automatically unsubscribe your app from any subscribed complications.</p><p class="p">When wheelchair mode is enabled, <code class="ph codeph">COMPLICATION_TYPE_STEPS</code> and <code class="ph codeph">COMPLICATION_TYPE_FLOORS_CLIMBED</code> are replaced with <code class="ph codeph">COMPLICATION_TYPE_WHEELCHAIR_PUSHES</code>.</p></div><article aria-labelledby="ariaid-title6" class="topic nested2" id="hold-to-launch"><h3 class="title topictitle3" id="ariaid-title6">Hold to Launch</h3><div class="body"><p class="p">Some Connect IQ products have a feature where pressing and holding on a complication launches the associated app. You can add this functionality to your watch face by implementing the <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/WatchUi/WatchFaceDelegate.html#onPress-instance_function" target="_blank">WatchFaceDelegate.onPress()</a> method:</p><pre class="pre codeblock typescript"><code>function onPress(clickEvent as ClickEvent) as Boolean {
    if ((mComplicationId != null) &amp;&amp;
         isClickInside(clickEvent, mBoundingBox)) {

        // launch the app that published the
        // complication
        try {
            Complications.exitTo(mComplicationId);
            return true;
        } catch (e instanceof AppNotInstalledException) {
            // fall through
        }
    }

    return false;
}</code></pre><p class="p">If your complication publisher is launched via hold to launch, the <code class="ph codeph">state</code> dictionary parameter of your <span class="xref"></span> will have the option <code class="ph codeph">:launchedFromComplication</code> set to the complication id that triggered the launch.</p></div></article></article><article aria-labelledby="ariaid-title7" class="topic nested1" id="publishing-complications"><h2 class="title topictitle2" id="ariaid-title7">Publishing Complications</h2><div class="body"><p class="p">If you are developing a device or audio content provider apps, you can publish up to four complications to the framework. To publish a complication you need to add the <code class="ph codeph">ComplicationPublisher</code> permission to your manifest file.</p></div><article aria-labelledby="ariaid-title8" class="topic nested2" id="resources"><h3 class="title topictitle3" id="ariaid-title8">Resources</h3><div class="body"><p class="p">To publish a complication, you have to define each complication in your resources:</p><pre class="pre codeblock xml"><code>&lt;complications&gt;
    &lt;complication id="0" access="public"
                  longLabel="@Strings.myLongLabel"
                  shortLabel="@Strings.myShortLabel"
                  icon="@Drawables.MyComplication"
                  glancePreview="true"&gt;
        &lt;faceIt defaultText="@Strings.complicationName" /&gt;
        &lt;range&gt;
            &lt;value&gt;0&lt;/value&gt;
            &lt;value&gt;24&lt;/value&gt;
            &lt;value&gt;33&lt;/value&gt;
            &lt;value&gt;41&lt;/value&gt;
            &lt;value&gt;50&lt;/value&gt;
            &lt;value&gt;53&lt;/value&gt;
        &lt;/range&gt;
    &lt;/complication&gt;
&lt;/complications&gt;</code></pre><p class="p">The <code class="ph codeph">complication</code> element has the following attributes:</p><table class="table"><caption></caption><colgroup><col/><col/><col/><col/></colgroup><thead class="thead"><tr class="row"><th class="entry" id="resources__entry__1">Attribute</th><th class="entry" id="resources__entry__2">Description</th><th class="entry" id="resources__entry__3">Required</th><th class="entry" id="resources__entry__4">API Level</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry" headers="resources__entry__1"><code class="ph codeph">id</code></td><td class="entry" headers="resources__entry__2">Numerical identifier from 0 - 255. Keep this value stable across versions. Changing this value between versions will impact apps consuming your complication when your app updates.</td><td class="entry" headers="resources__entry__3">Yes</td><td class="entry" headers="resources__entry__4">4.2.0</td></tr><tr class="row"><td class="entry" headers="resources__entry__1"><code class="ph codeph">access</code></td><td class="entry" headers="resources__entry__2"><code class="ph codeph">public</code>, <code class="ph codeph">protected</code>, or <code class="ph codeph">private</code></td><td class="entry" headers="resources__entry__3">Yes</td><td class="entry" headers="resources__entry__4">4.2.0</td></tr><tr class="row"><td class="entry" headers="resources__entry__1"><code class="ph codeph">longLabel</code></td><td class="entry" headers="resources__entry__2">A descriptive title for your complication value.</td><td class="entry" headers="resources__entry__3">Yes</td><td class="entry" headers="resources__entry__4">4.2.0</td></tr><tr class="row"><td class="entry" headers="resources__entry__1"><code class="ph codeph">shortLabel</code></td><td class="entry" headers="resources__entry__2">A short string for apps that are displaying your complication as a radial complication.</td><td class="entry" headers="resources__entry__3">No</td><td class="entry" headers="resources__entry__4">4.2.0</td></tr><tr class="row"><td class="entry" headers="resources__entry__1"><code class="ph codeph">icon</code></td><td class="entry" headers="resources__entry__2">A resource identifier for the icon you want to associate with this complication. The specified resource must be an <code class="ph codeph">svg</code> if your access is <code class="ph codeph">public</code> or <code class="ph codeph">protected</code>. The icon cannot be changed at runtime.</td><td class="entry" headers="resources__entry__3">Yes</td><td class="entry" headers="resources__entry__4">4.2.0</td></tr><tr class="row"><td class="entry" headers="resources__entry__1"><code class="ph codeph">glancePreview</code></td><td class="entry" headers="resources__entry__2">A Boolean value. When users place your glance into a glance folder, you can identify one of your complications to be used as the preview value. Only one of your complications can be demarked as a preview.</td><td class="entry" headers="resources__entry__3">No</td><td class="entry" headers="resources__entry__4">4.2.0</td></tr></tbody></table><p class="p">Using the <code class="ph codeph">access</code> attribute, you can control if your complications are visible to just apps with your developer key, all apps, and Face It or all of the above:</p><table class="table"><caption></caption><colgroup><col/><col/><col/><col/></colgroup><thead class="thead"><tr class="row"><th class="entry align-left" id="resources__entry__29">Access</th><th class="entry align-center" id="resources__entry__30">Your Apps</th><th class="entry align-center" id="resources__entry__31">Face It</th><th class="entry align-center" id="resources__entry__32">All Apps</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry align-left" headers="resources__entry__29"><code class="ph codeph">public</code></td><td class="entry align-center" headers="resources__entry__30">X</td><td class="entry align-center" headers="resources__entry__31">X</td><td class="entry align-center" headers="resources__entry__32">X</td></tr><tr class="row"><td class="entry align-left" headers="resources__entry__29"><code class="ph codeph">protected</code></td><td class="entry align-center" headers="resources__entry__30">X</td><td class="entry align-center" headers="resources__entry__31">X</td><td class="entry align-center" headers="resources__entry__32"> </td></tr><tr class="row"><td class="entry align-left" headers="resources__entry__29"><code class="ph codeph">private</code></td><td class="entry align-center" headers="resources__entry__30">X</td><td class="entry align-center" headers="resources__entry__31"> </td><td class="entry align-center" headers="resources__entry__32"> </td></tr></tbody></table><p class="p">The required <code class="ph codeph">faceIt</code> element allows you to provide information for Face it:</p><table class="table"><caption></caption><colgroup><col/><col/><col/><col/></colgroup><thead class="thead"><tr class="row"><th class="entry" id="resources__entry__45">Attribute</th><th class="entry" id="resources__entry__46">Description</th><th class="entry" id="resources__entry__47">Required</th><th class="entry" id="resources__entry__48">API Level</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry" headers="resources__entry__45"><code class="ph codeph">defaultText</code></td><td class="entry" headers="resources__entry__46">This will be shown in Face It as the name of the complication.</td><td class="entry" headers="resources__entry__47">Yes</td><td class="entry" headers="resources__entry__48">4.2.0</td></tr></tbody></table><p class="p">The optional <code class="ph codeph">range</code> element allows you to provide an ordered set of numeric values that define different ranges for your value.</p></div></article></article><article aria-labelledby="ariaid-title9" class="topic nested1" id="publishing-values"><h2 class="title topictitle2" id="ariaid-title9">Publishing Values</h2><div class="body"><p class="p">Once your complication is defined, you can use the <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Complications.html#updateComplication-instance_function" target="_blank">Complications.updateComplication()</a> function to publish data:</p><pre class="pre codeblock typescript"><code>var data = {
    // String, Number, Float, Long, Double, or null
    :value =&gt; newValue,

    // String
    :shortLabel =&gt; newShortLabel,

    // String or Complication.UNITS_* value
    :units =&gt; newUnits,

    // Array&lt;Numeric&gt; with at least 3 elements
    :ranges =&gt; newRanges,
}

// update complication
// 0 is the id of the complication
// from complications.xml
Complications.updateComplication(0, data);</code></pre></div></article><article aria-labelledby="ariaid-title10" class="topic nested1" id="face-it-complications"><h2 class="title topictitle2" id="ariaid-title10">Face It Complications</h2><div class="body"><p class="p">Publishing a complication as <code class="ph codeph">public</code> allows Face It to integrate your complication. It will always display your complication icon, and will use the following rules to display your complication value:</p><table class="table"><caption></caption><colgroup><col/><col/><col/></colgroup><thead class="thead"><tr class="row"><th class="entry" id="face-it-complications__entry__1">If units are...</th><th class="entry" id="face-it-complications__entry__2">...then value is expected to be...</th><th class="entry" id="face-it-complications__entry__3">...and will be displayed as...</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry" headers="face-it-complications__entry__1"><code class="ph codeph">Complications.UNIT</code> type besides <code class="ph codeph">UNIT_INVALID</code></td><td class="entry" headers="face-it-complications__entry__2">A numerical value</td><td class="entry" headers="face-it-complications__entry__3">A numerical value converted from the default units defined for the unit type to the system units with the appropriate unit abbreviation.</td></tr><tr class="row"><td class="entry" headers="face-it-complications__entry__1">String</td><td class="entry" headers="face-it-complications__entry__2">A numerical value</td><td class="entry" headers="face-it-complications__entry__3">A numerical value with the string units appended.</td></tr><tr class="row"><td class="entry" headers="face-it-complications__entry__1"><span class="xref">`Complications.UNIT_INVALID`</span>NVALID) or <code class="ph codeph">null</code></td><td class="entry" headers="face-it-complications__entry__2">A numerical or string value</td><td class="entry" headers="face-it-complications__entry__3">A numerical or string value will be displayed without conversion and without any units appended.</td></tr></tbody></table><p class="p">Some best practices:</p><ul class="ul"><li class="li"><p class="p">Make sure your Face It icon is high contrast and will appear well in both light and dark mode in mobile.</p></li><li class="li"><p class="p">Use Latin characters (A-Z, a-z, 0-9) for published complication strings.</p></li></ul></div></article></article></main></div>
</body>
</html>