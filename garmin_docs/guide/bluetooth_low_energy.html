<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Bluetooth Low Energy - Garmin Connect IQ Documentation</title>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; margin: 0; padding: 20px; }
        h1 { color: #333; }
        pre { background-color: #f5f5f5; padding: 10px; border-radius: 4px; overflow: auto; }
        code { font-family: monospace; }
        table { border-collapse: collapse; width: 100%; }
        th, td { border: 1px solid #ddd; padding: 8px; }
        th { background-color: #f2f2f2; }
        img { max-width: 100%; }
    </style>
</head>
<body>
    <h1>Bluetooth Low Energy</h1>
    <div class="c0123 c0126">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><meta charset="utf-8"/><meta content="(C) Copyright 2025" name="copyright"/><meta content="(C) Copyright 2025" name="DC.rights.owner"/><meta content="topic" name="DC.type"/><meta content="HTML5" name="DC.format"/><meta content="getting-started-with-connect-iq-ble-development" name="DC.identifier"/><link href="../../commonltr.css" rel="stylesheet" type="text/css"/><title>Getting Started with Connect IQ BLE Development</title><main role="main"><article aria-labelledby="ariaid-title1" role="article"><h1 class="title topictitle1" id="ariaid-title1">Getting Started with Connect IQ BLE Development</h1><div class="body"><figure class="fig fignone">
<img class="image" src="/connect-iq/resources/programmers-guide/sculptor-monkey.png"/><br/>
</figure></div><article aria-labelledby="ariaid-title2" class="topic nested1" id="resources"><h2 class="title topictitle2" id="ariaid-title2">Resources</h2><div class="body"><p class="p">When going through this guide, developers will want to keep a few things handy.</p><ul class="ul"><li class="li"><p class="p"><strong class="ph b">Connect IQ BLE API Documentation</strong></p><p class="p">Having the <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/BluetoothLowEnergy.html" target="_blank">API Documentation</a> close by will be critical (especially in the later steps of this document).</p></li><li class="li"><p class="p"><strong class="ph b">Nordic nRF52 DK</strong></p><p class="p">The Connect IQ team has built out the Connect IQ SDK tools to be compatible with the <a class="xref" href="https://www.nordicsemi.com/Software-and-Tools/Development-Kits/nRF52-DK" target="_blank">Nordic nRF52 DK</a> Bluetooth 5 and Bluetooth mesh Development Kit for nRF52810.</p></li></ul><ul class="ul"><li class="li"><p class="p"><strong class="ph b">Nordic Documentation Page</strong></p><p class="p">The <a class="xref" href="https://www.nordicsemi.com/DocLib?Product=nRF52832%20core%20documentation&amp;tags=nRF52832%2CnRF52+DK" target="_blank">Nordic Documentation</a> has links to all of the resources needed to use the nRF52 DK.</p></li><li class="li"><p class="p"><strong class="ph b">nRF Connect For Desktop</strong></p><p class="p">The <a class="xref" href="https://www.nordicsemi.com/Software-and-Tools/Development-Tools/nRF-Connect-for-desktop" target="_blank">nRF Connect For Desktop</a> application allows developers to flash new firmware to the board, monitor connections, etc. This software is necessary to program the board to work correctly with the Connect IQ simulator.</p></li><li class="li"><p class="p"><strong class="ph b">An up-to-date Connect IQ SDK</strong></p><p class="p">To use the BLE APIs, developers should be working with the current version of the Connect IQ SDK.</p></li><li class="li"><p class="p"><strong class="ph b">Firmware for the nRF52 DK</strong></p><p class="p">The memory layout of the nRF52 DK will need to be flashed to a different firmware for use with the Connect IQ SDK. The correct firmware for the development environment has been provided:</p><ul class="ul"><li class="li"><p class="p"><a class="xref" href="https://developer.garmin.com/downloads/connect-iq/connectivity_2.0.1_115k2_with_s132_5.0.zip" target="_blank">nRF52 DK firmware</a></p></li><li class="li"><p class="p"><a class="xref" href="https://developer.garmin.com/downloads/connect-iq/connectivity_1.0.0_usb_with_s132_5.1.0.zip" target="_blank">nRF52840 Dongle firmware</a></p></li></ul></li></ul></div></article><article aria-labelledby="ariaid-title3" class="topic nested1" id="windows"><h2 class="title topictitle2" id="ariaid-title3">Windows</h2><div class="body"><p class="p">The drivers and applications needed to communicate with the nRF52 DK are all included in the installation of <a class="xref" href="https://www.nordicsemi.com/Software-and-Tools/Development-Tools/nRF-Connect-for-desktop" target="_blank">nRF Connect for Desktop</a> for the Windows platform. Once this application is installed along with the necessary drivers, the nRF52 DK should be found by the nRF Connect for Desktop application.</p><p class="p">At this point, proceed to the <a class="xref" href="#using-nordic-nrf-connect">Using Nordic nRF Connect</a> section.</p></div></article><article aria-labelledby="ariaid-title4" class="topic nested1" id="mac"><h2 class="title topictitle2" id="ariaid-title4">Mac</h2><div class="body"><p class="p">When using macOS, developers will need to manually install the JLink/JTrace USB drivers to communicate with the nRF52 DK board. To do so, download and install the Segger JLink installer <a class="xref" href="https://www.segger.com/downloads/jlink/JLink_MacOSX_V622g.pkg" target="_blank">package 6.22g</a> for Mac.</p><p class="p">Once this is completed, developers will need to install the <a class="xref" href="https://www.nordicsemi.com/Software-and-Tools/Development-Tools/nRF-Connect-for-desktop" target="_blank">nRF Connect for Desktop</a> for Mac.</p><p class="p">At this point, proceed to the <a class="xref" href="#using-nordic-nrf-connect">Using Nordic nRF Connect</a> section.</p></div></article><article aria-labelledby="ariaid-title5" class="topic nested1" id="linux"><h2 class="title topictitle2" id="ariaid-title5">Linux</h2><div class="body"><p class="p">When using Linux, developers will need to manually install the JLink/JTrace USB drivers to communicate with the nRF52 DK board. To do so, download and install using the appropriate Segger JLink installer for Linux:</p><ul class="ul"><li class="li"><p class="p">32-bit: <a class="xref" href="https://www.segger.com/downloads/jlink/JLink_Linux_V622g_i386.deb" target="_blank">JLink_6.22g - 32</a></p></li><li class="li"><p class="p">64-bit: <a class="xref" href="https://www.segger.com/downloads/jlink/JLink_Linux_V622g_x86_64.deb" target="_blank">JLink_6.22g - 64</a></p></li></ul><p class="p">Once this is completed developers will need to install the <a class="xref" href="https://www.nordicsemi.com/Software-and-Tools/Development-Tools/nRF-Connect-for-desktop" target="_blank">nRF Connect for Desktop</a> for Linux.</p><figure class="fig fignone">
<img class="image" src="/connect-iq/resources/programmers-guide/intent-launched.png"/><br/>
</figure></div></article><article aria-labelledby="ariaid-title6" class="topic nested1" id="using-nordic-nrf-connect"><h2 class="title topictitle2" id="ariaid-title6">Using Nordic nRF Connect</h2><div class="body"><p class="p">The nRF Connect Desktop application will need to be installed. Please see the above sections for the appropriate links.</p><ol class="ol"><li class="li"><p class="p">Once installed, launch the application. Click <em class="ph i">Add/remove apps</em>:</p></li></ol><figure class="fig fignone">
<img class="image" src="/connect-iq/resources/programmers-guide/nRFConnectLaunch.png"/><br/>
</figure><figure class="fig fignone">
<img class="image" src="/connect-iq/resources/programmers-guide/nRFConnectProgrammerLaunch.png"/><br/>
</figure><a href="#fntarg_1" name="fnsrc_1"><sup>1</sup></a><figure class="fig fignone">
<img class="image" src="/connect-iq/resources/programmers-guide/nRFConnectPrepMemoryLayout.png"/><br/>
</figure><figure class="fig fignone">
<img class="image" src="/connect-iq/resources/programmers-guide/nRFConnectWriteMemoryLayout.png"/><br/>
</figure></div></article><article aria-labelledby="ariaid-title7" class="topic nested1" id="finding-the-com-port"><h2 class="title topictitle2" id="ariaid-title7">Finding The COM Port</h2><div class="body"><p class="p">Now that the board is properly communicating with the computer, it's time to figure out which port it's utilizing.</p></div><article aria-labelledby="ariaid-title8" class="topic nested2" id="windows-1"><h3 class="title topictitle3" id="ariaid-title8">Windows</h3><div class="body"><p class="p">Open up Device Manager and find your device under <code class="ph codeph">Ports</code>.</p><p class="p">It will look something like this:</p><figure class="fig fignone">
<img class="image" src="/connect-iq/resources/programmers-guide/nRFJLinkDevMgr.png"/><br/>
</figure><p class="p">The communications port is listed in parentheses. In the example above the communications port is <code class="ph codeph">COM4</code>. Copy this to be used in a later step and proceed to <a class="xref" href="#setting-the-com-port">Setting the COM Port</a>.</p></div></article><article aria-labelledby="ariaid-title9" class="topic nested2" id="mac-1"><h3 class="title topictitle3" id="ariaid-title9">Mac</h3><div class="body"><p class="p">Open up a terminal and type:</p><pre class="pre codeblock"><code>ls /dev/tty.usbmodem*</code></pre><p class="p">then press <code class="ph codeph">Tab</code>. This should list out the port information in the format <code class="ph codeph">/dev/tty.usbmodem&lt;number&gt;</code>. Copy this to be used in a later step and proceed to <a class="xref" href="#setting-the-com-port">Setting the COM Port</a>.</p></div></article><article aria-labelledby="ariaid-title10" class="topic nested2" id="linux-1"><h3 class="title topictitle3" id="ariaid-title10">Linux</h3><div class="body"><p class="p">Open up a terminal and type:</p><pre class="pre codeblock"><code>ls /dev/ttyACM*</code></pre><p class="p">then press <code class="ph codeph">Tab</code>. This should list out the port information in the format <code class="ph codeph">/dev/ttyACM&lt;number&gt;</code>. Copy this to be used in a later step and proceed to <a class="xref" href="#setting-the-com-port">Setting the COM Port</a>.</p></div></article><article aria-labelledby="ariaid-title11" class="topic nested2" id="setting-the-com-port"><h3 class="title topictitle3" id="ariaid-title11">Setting the COM Port</h3><div class="body"><p class="p">At this point the nRF52 is properly communicating with the development environment and the com port information has been retrieved. The final step is to set the COM port in the Connect IQ Simulator.</p><ol class="ol"><li class="li"><p class="p">Launch the simulator via Visual Studio Code or command line tools.</p></li><li class="li"><p class="p">Select <em class="ph i">Settings</em> &gt; <em class="ph i">BLE Settings</em></p></li><li class="li"><p class="p">In the dialog box, enter the COM port information from <a class="xref" href="#finding-the-com-port">Finding the COM Port</a>.</p></li></ol><figure class="fig fignone">
<img class="image" src="/connect-iq/resources/programmers-guide/nRFSetComPortSim.png"/><br/>
</figure><ol class="ol"><li class="li"><p class="p">Click <em class="ph i">OK</em>.</p></li></ol><p class="p">It's possible that developers might encounter an error. This is likely due to a failure to set the COM Port for the Connect IQ simulator. If an error occurs, then developers have a few things they can check.</p><ol class="ol"><li class="li"><p class="p"><strong class="ph b">Double check the COM Port assignment:</strong> Follow the steps for the correct environment to <a class="xref" href="#finding-the-com-port">find</a> and confirm the COM Port.</p></li><li class="li"><p class="p"><strong class="ph b">Ensure there are no copy/paste errors:</strong> Double check the information entered when <a class="xref" href="#setting-the-com-port">setting the COM Port</a>.</p></li></ol><p class="p">That's it! If all goes well, then the Connect IQ Simulator will use the nRF52 DK board BLE chipset to communicate with nearby BLE devices per the Connect IQ Bluetooth Low Energy APIs. For more information on the APIs, please refer to the <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/" target="_blank">API documentation</a> and the <code class="ph codeph">NordicThingy52</code> and <code class="ph codeph">NordicThingy52CoinCollector</code> sample applications included in the Connect IQ SDK.</p></div></article></article><div class="fn"><a href="#fnsrc_1" name="fntarg_1"><sup>1</sup></a>  Developers may also check the _Auto read memory_ checkbox to have the device memory read automatically each time an action is taken.</div></article></main></div>
</body>
</html>